\documentclass[usepdftitlre=false, debug]{beamer}

\usepackage[francais]{babel}
\usepackage[T1]{fontenc}
\usepackage[ansinew]{inputenc}
\usepackage{lmodern}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{color}
\usepackage{pgf}
\usepackage{tikz}
\usetikzlibrary{arrows,automata}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usetheme{Rochester}
\usecolortheme{default}

\title{Cryptographie}
\author{Mathis Deloge, Antoine Petot, Ange Picard}
%\institute{IUT Informatique Dijon / Auxerre}
\date{Dimanche 4 décembre 2016}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{1,0,0.4}

\lstset{ %
  backgroundcolor=\color{gray!30!white},   % choose the background color
  basicstyle=\fontsize{7}{11}\ttfamily,        % size of fonts used for the code
  breaklines=true,                 % automatic line breaking only at whitespace
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  keywordstyle=\color{blue},       % keyword style
  stringstyle=\color{mymauve},     % string literal style
	numbers=left,
	frame=leftline,
	xleftmargin=42pt
}

\setbeamertemplate{navigation symbols}{%
\insertbackfindforwardnavigationsymbol
}

\setbeamercolor{background canvas}{bg=yellow!10!white}

\AtBeginSection[]
{
  \begin{frame}
  \frametitle{Sommaire}
  \tableofcontents[currentsection, hideothersubsections]
  \end{frame}
}

\begin{document}

\begin{frame}
	\titlepage
\end{frame}

\section{Présentation du sujet}
\subsection{Le sujet}
\begin{frame}
	\frametitle{Le sujet}
	\begin{block}{Descriptif}
	Implémentation d'un programme virtualisant deux personnes, Alice et Bob voulant s'échanger des messages cryptés via le réseau suivant les deux principes suivants :
	\begin{itemize}
	 \item Echange de clé de Diffie-Hellman
	 \item Chiffrement par transposition
	\end{itemize}
	\end{block}
\end{frame}

\subsubsection{Diffie-Hellamn}
\begin{frame}
	\frametitle{Diffie-Hellman}
	\begin{block}{Principe}
	\begin{itemize}
	 \item Alice et Bob choisissent un groupe fini $G$ d'ordre $n$ et un générateur $g$ de ce groupe publiquement.
	 \item Alice choisis au hasard $a$ tel que $1 < a < n$ puis communique à Bob $g^a$.
	 \item Bob choisis au hasard $b$ tel que $1 < b < n$ puis communique à Alice $g^b$.
	 \item Alice élève à la puissance $a$ le nombre communiqué par Bob.
	 \item Bob élève à la puissance $b$ le nombre communiqué par Alice.
	 \item Alice et Bob connaissent le nombre $g^{ab}$ impossible à déterminer par Eve.
	\end{itemize}
	\end{block}
\end{frame}
\begin{frame}
	\frametitle{Diffie-Hellman}
	\begin{center}
	 	\includegraphics[width=5cm]{Images/Diffie-Hellman.png}
	\end{center}
\end{frame}

\subsubsection{Chiffrement par transposition}
\begin{frame}
	\frametitle{Chiffrement par transposition}
	\begin{block}{Principe}
	\begin{itemize}
	 \item  Lors du chiffrement par transposition, on découpe le texte à crypter en bloc de la taille de la clé de chiffrement pour ensuite permuter l'ordre des caractères à l'intérieur de ces blocs en suivant l'ordre croissant de la clé de chiffrement.
	 \item Pour déchiffrer un message, il suffit de remettre les caractères à leur place au sein de chaque bloc de texte en s'aidant de la clé de chiffrement.
	 \item On fera attention de retirer les espaces avant le cryptage et de les remettre lors du décryptage pour ne pas donner d'indication concernant les suites de mots.
	\end{itemize}
	\end{block}	
\end{frame}

\begin{frame}
	\frametitle{Chiffrement par transposition}
	 On peut représenter le chiffrement d'un message par transposition à l'aide d'un tableau :
	 \begin{center}
	 	\includegraphics[width=9cm]{Images/tableau.jpg}
	\end{center}
\end{frame}

\subsection{Prolongements possibles}
\begin{frame}
	\frametitle{Prolongements possibles}
	\begin{block}{Les différents prolongements du sujet}
	 \begin{itemize}
	  \item Conseillez Alice et Bob sur le choix du protocole de partage de clé.
	  \item Si Alice et Bob ne s'étaient pas connus à l'université, auraient-ils pu utiliser la méthode proposée par Bob ? Et celle proposée par Alice ?
	  \item Attaque de l'homme du milieu avec Diffie-Hellman.
	  \item Algorithme ``baby step giant step'' et résolution du problème du logarithme discret dans Diffie-Hellman.
	  \item Protocole d'attaque pour le chiffrement par transposition.
	 \end{itemize}
	\end{block}

\end{frame}



\section{Présentation du programme}
\begin{frame}[fragile]
	\frametitle{Présentation du programme}
	
\begin{lstlisting}[language=java]
public class main{
    public static void main(String[] args) {
        PerfectGenerator generator = new PerfectGenerator();
        BigInteger g = generator.getG();
        BigInteger p = generator.getP();

        Person Alice = new Person(p,g, "Alice");
        Person Bob = new Person("Bob");

        Network network = new Network(Alice,Bob);

        Alice.givePublicKey(network.initiateConversation(p,g, Alice.getSelfPublicKey()));

        network.send(Alice.encrypt("Bonjour, j'envois un message crypté !"));
    }
}
\end{lstlisting}

\end{frame}

\section{Prolongements}
\subsection{Choix du protocole}
\begin{frame}
	\frametitle{Choix du protocole}
	\begin{block}{Quel protocole de partage de clé choisir ?}
	 \begin{itemize}
	  \item Diffie-Hellman est un protocole d'échange de clé tout à fait adapté dans notre cas.
	  \item Chiffrement par transposition est un protocole de chiffrement de message à partir d'une clé. Plus adapté à l'échange de messages cryptés lorsque l'on possède déjà une clé.
	 \end{itemize}
	\end{block}
\end{frame}

\subsection{Prérequis des protocoles}
\begin{frame}
	\frametitle{Prérequis des protocoles}
	\begin{block}{Diffie-Hellman}
		A l'avantage de ne demander aucun prérequis pour être mis en place.
		Il est utilisé pour échanger des clés de cryptage en utilisant une communication publique et appartient au domaine de la cryptographie à clé publique.
	\end{block}
	
	\pause
	\begin{block}{Chiffrement par transposition}
		Nécessite une clé secrète connue des deux personnes pour permettre le cryptage et le décryptage des messages échangés.
		Dans notre cas, il pourrait être utilisé par Alice et Bob si ils s'étaient connus à l'Université et avaient échangé une clé de cryptage.
		Dans le cas où ils n'ont pas de clé en commun, ils devraient en mettre une en place.
	\end{block}

\end{frame}

\subsection{Attaque MITM}
\begin{frame}
	\frametitle{Attaque MITM : Man-in-the-middle}
	\begin{block}{Principe et fonctionnement}	 
	 Eve va intercepter les communications entre Alice et Bob puis mettre en place un échange de clé de Diffie-Hellman avec Alice et un autre avec Bob.
	 Ainsi, pour Alice, Eve se fera passer pour Bob et pour Bob, elle se fera passer pour Alice.
	\end{block}
	\pause
	\begin{block}{Contrer l'homme du milieu}
	 Utiliser des certificats, des signatures électroniques mises en place par un tiers de confiance pour s'assurer que Bob, communique avec Alice et Alice communique avec Bob.
	\end{block}
\end{frame}

\subsection{Logarithme discret}
\begin{frame}
	\frametitle{Logarithme discret}
	\begin{block}{Problème et lien avec Diffie-Hellman}

	 Très utilisé en cryptographie à clé publique, il est impossible pour le moment de déterminer un entier $l$ pour lequel $l = log_g y$ avec $g$ étant un générateur d'une groupe cyclique $G$ et $y \in G$.
	 
	 Comme le groupe $G$ choisi est un groupe cyclique, $log_g y$ est modulo $n$, $n$ étant l'ordre du groupe $G$, il n'est pas possible de déterminer $l = log_g y$.

	\end{block}
\end{frame}

\subsection{Baby step giant step}
\begin{frame}
	\frametitle{Baby step giant step} 	
	\begin{block}{Principe}
	 \begin{itemize}
	  \item $p$ un nombre entier premier.
	  \item $x = logD(h) = m*q+r$ avec $q$ et $r$ entiers où $0 \leq r < m$
	  \item $m = \lceil \sqrt{p} \rceil$
	  \vspace{0.5cm}
	  \item On calcule $g^i$ pour $i$ allant de 0 à $m-1$ et on stocke les résultats dans une table de hashage.
	  \item On initialise $q$ avec $q = 0$
	  \item On calcule $h(g^{-m})^q$ en incrémentant $q$ à chaque calcul.
	  \item On arrête de calculer dès qu'on trouve un résultats égal à un résultat de la table de hashage.
	  \item On obtient $logD(h) = q*m+1$.
	 \end{itemize}
	\end{block}
\end{frame}

\begin{frame}
 	\frametitle{Baby step giant step}


	\begin{block}{Utilisation}
	  \begin{itemize}
	   \item Permet de réduire à un maximum de $2\sqrt{n}$ multiplications la recherche du logarithme discret dans un groupe $G$.
	   \item Usage intensif de la mémoire pour stocker la table de hashage dans le cas d'un nombre premier $p$ très grand.
	   \item D'autres algorithmes tels que le Rho de Pollard permettent la résolution du logarithme discret sans une telle utilisation de mémoire.
	  \end{itemize}	  
	\end{block}
\end{frame}


\subsection{Attaque du chiffrement par transposition}
\begin{frame}
	\frametitle{Attaque du chiffrement par transposition}
	\begin{block}{Différentes propositions}
	  \begin{itemize}
	   \item Faire une étude statistiques d'apparition de lettres pour déterminer la langue du document.
	   \item Déterminer la longueur de la clé.
	   \begin{itemize}
	      \item Récupérer différents messages d'un même expéditeur ou pour un même destinataire pour déterminer un début ou une fin récurrente.
	   \end{itemize}
	   \item Découper le message en longueur de mot de la taille de la clé.
	   \item Essayer des anagrammes en utilisant un dictionnaire de mot dans la langue déterminée auparavant.
	  \end{itemize}
	\end{block}
\end{frame}


\section{Résultats}
\begin{frame}
	\frametitle{Résultats}
	\begin{block}{Programme}
	  Le programme permet d'échanger des messages cryptés entre Alice et Bob et utilisant le principe de transposition et implicitement l'échange de clé de Diffie-Hellman.  
	\end{block}
	\pause
	\begin{block}{Prolongements}
	  Les 6 prolongements proposés dans le sujet ont été réalisés, nous permettant de compléter cette introduction à la cryptographie.
	\end{block}
\end{frame}


\section{Conclusion}
\begin{frame}
 \frametitle{Conclusion}
  \begin{block}{Pour finir..}
    Nous avons découvert avec ce sujet les différents aspects de la cryptographie à clé publique et les mathématiques sur lesquelles ils sont basés.
    L'implémentation des algorithmes s'est révélée complexe afin de respecter les principes mathématiques comme celui du logarithme discret.
    
    \vspace{0.5cm}
    
    Nous avons pu aborder des sujets comme la recherche de nombre entiers premier très grand, les attaques possibles du programme mis en place, mais aussi la résolution du problème du logarithme discret...
  \end{block}

\end{frame}


\begin{frame}
  \frametitle{Sommaire}
  \tableofcontents
\end{frame}

\end{document}